---
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(message=FALSE, warning=FALSE)
```

# shinymatic <img src="man/figures/logo.png" width="175" height="200" align="right"/>

<!-- badges: start -->

![Progress](https://progress-bar.dev/30/)

<!-- badges: end -->

The goal of shinymatic is to automatically generate shiny inputs based on a dataframe.

## Installation

You can install the development version of shinymatic from [GitHub](https://github.com/) with:

```{r, eval=FALSE}
# install.packages("devtools")
devtools::install_github("karbartolome/shinymatic")
```

## Example

This is a basic example which shows you how to solve a common problem:

```{r}
library(shiny)
library(shinymatic)
```

Data:

```{r}
load('data/df.rda')
```

Data structure:

```{r, echo=FALSE}
str(df)
```

User interface that includes

```{r}
ui <- shiny::fluidPage(fluidRow(
  h1('   A shiny inputs example'),
  column(3,
    h3('Inputs based on df'),
    autoinput_numerical(.df = df),
    autoinput_categorical(.df = df),
    autoinput_date(.df = df)
  ),
  column(3,
    h3('Outputs based on inputs'),
    verbatimTextOutput(outputId = 'values')
  )
))
```

Server that generates the reactive output based on each individual input:

```{r}
server <- function(input, output) {
  output$values <- reactive({
    paste0(sapply(
      names(df),
      FUN = function(i)
        paste(i, "=", input[[i]])
    ),
    collapse = '\n')
  })
}
```

Shiny app is generated based on the ui and server:

```{r, eval=FALSE}
shiny::shinyApp(ui = ui, server = server)
```

```{r, echo=FALSE, out.width='70%', fig.align='center'}
knitr::include_graphics('man/figures/shiny_example.png')
```

# Autoinputs for multiple data types all at once

All the inputs can be generated with a single function: shinymatic::autoinputs()

```{r, eval=FALSE}
ui <- shiny::fluidPage(fluidRow(
 column(3,
        h3('Inputs based on df'),
        autoinputs(.df=df)
 ),
 column(3,
        h3('Outputs based on inputs'),
        verbatimTextOutput(outputId = 'values')
 )
))

server <- function(input, output) {
 output$values <- reactive({
   paste0(sapply(
     names(df),
     FUN = function(i) paste(i, "=", input[[i]])),
     collapse = '\n')
 })
}

shiny::shinyApp(ui = ui, server = server)
```











